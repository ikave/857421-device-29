"use strict";const feedbackLink=document.querySelector(".js-feedback"),feedbackPopup=document.querySelector(".modal-feedback"),modalFeedbackClose=feedbackPopup.querySelector(".modal-close"),feedbackForm=feedbackPopup.querySelector(".feedback-form"),feedbackName=feedbackPopup.querySelector("#feedback-form-name"),feedbackEmail=feedbackPopup.querySelector("#feedback-form-email"),feedbackMessage=feedbackPopup.querySelector("#feedback-form-text"),mapPopup=document.querySelector(".modal-map"),mapLink=document.querySelector(".map-link"),mapPopupClose=mapPopup.querySelector(".modal-close");let isStorageSupport=!0,storage="";try{storage=localStorage.getItem("Name")}catch(e){isStorageSupport=!1}const openPopup=function(e){e.classList.add("modal-show")},closePopup=function(e){e.classList.remove("modal-show")},pressEscKey=function(e){"Escape"===e.key&&feedbackPopup.classList.contains("modal-show")&&(e.preventDefault(),feedbackPopup.classList.remove("modal-show"),feedbackPopup.classList.remove("modal-error"))},fillFeedbackForm=function(){storage?(feedbackName.value=localStorage.getItem("Name"),feedbackEmail.value=localStorage.getItem("Email"),feedbackMessage.focus()):feedbackMessage.focus()},closeFeedbackPopup=function(){modalFeedbackClose.addEventListener("click",function(e){e.preventDefault(),closePopup(feedbackPopup),feedbackPopup.classList.remove("modal-error")})},checkFormValidity=function(){feedbackForm.addEventListener("submit",function(e){feedbackName.value&&feedbackEmail.value?isStorageSupport&&(localStorage.setItem("Name",feedbackName.value),localStorage.setItem("Email",feedbackEmail.value)):(e.preventDefault(),feedbackPopup.classList.remove("modal-error"),feedbackPopup.offsetWidth,feedbackPopup.classList.add("modal-error"))})};feedbackLink.addEventListener("click",function(e){e.preventDefault(),openPopup(feedbackPopup),storage?(feedbackName.value=localStorage.getItem("Name"),feedbackEmail.value=localStorage.getItem("Email"),feedbackMessage.focus()):feedbackMessage.focus(),feedbackForm.addEventListener("submit",function(e){feedbackName.value&&feedbackEmail.value?isStorageSupport&&(localStorage.setItem("Name",feedbackName.value),localStorage.setItem("Email",feedbackEmail.value)):(e.preventDefault(),feedbackPopup.classList.remove("modal-error"),feedbackPopup.offsetWidth,feedbackPopup.classList.add("modal-error"))}),modalFeedbackClose.addEventListener("click",function(e){e.preventDefault(),closePopup(feedbackPopup),feedbackPopup.classList.remove("modal-error")})}),window.addEventListener("keydown",function(e){pressEscKey(e)}),mapLink.addEventListener("click",function(e){e.preventDefault(),openPopup(mapPopup),window.addEventListener("keydown",function(e){"Escape"===e.key&&mapPopup.classList.contains("modal-show")&&(e.preventDefault(),mapPopup.classList.remove("modal-show"))})}),mapPopupClose.addEventListener("click",function(e){e.preventDefault(),closePopup(mapPopup)});const sliderControls=document.querySelector(".slider-controls"),sliderList=document.querySelector(".slider-list"),sliderItems=document.querySelectorAll(".slider-item");sliderControls.addEventListener("click",function(e){const o=sliderControls.querySelectorAll(".slider-button");for(let t=0;t<o.length;t++)e.target===o[t]&&(sliderList.style.transform=`translateX(-${sliderItems[t].offsetWidth*[t]}px)`);if(e.target.classList.contains("slider-button")){for(let e of o)e.classList.remove("slider-button-current");e.target.classList.add("slider-button-current")}});const servicesControls=document.querySelector(".services-control"),servicesList=document.querySelector(".services-slider"),servicesItems=document.querySelectorAll(".services-slider-item");servicesControls.addEventListener("click",function(e){e.preventDefault();const o=servicesControls.querySelectorAll(".services-control-button");for(let t=0;t<o.length;t++)if(e.target===o[t]){for(let e of servicesItems)e.style.display="none";servicesItems[t].style.display="block"}if(e.target.classList.contains("services-control-button")){for(let e of o)e.classList.remove("services-control-button-active");e.target.classList.add("services-control-button-active")}});
